---
layout: default
title: –ö–æ—Ä–∑–∏–Ω–∞
---

<style>
  .cart-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #eaecef;
    padding: 15px 0;
  }
  .cart-item img {
    width: 60px;
    height: 60px;
    border-radius: 6px;
    object-fit: cover;
    margin-right: 15px;
  }
  .item-info { flex-grow: 1; }
  .item-title { font-weight: 600; display: block; }
  
  .btn-remove {
    color: #cb2431;
    background: none;
    border: 1px solid #eaecef;
    padding: 5px 10px;
    border-radius: 6px;
    cursor: pointer;
  }

  .total-block {
    margin-top: 20px;
    padding: 20px;
    background: #f1f8ff;
    border-radius: 8px;
    text-align: center;
  }
  
  .btn-checkout {
    display: block;
    width: 100%;
    padding: 15px;
    margin-top: 10px;
    color: white;
    text-decoration: none;
    border-radius: 8px;
    font-weight: bold;
    text-align: center;
  }
  
  @media (prefers-color-scheme: dark) {
    .cart-item { border-bottom-color: #30363d; }
    .btn-remove { border-color: #30363d; color: #ff7b72; }
    .total-block { background-color: #161b22; }
  }
</style>

<h1>–í–∞—à–∏ –ø–æ–∫—É–ø–∫–∏</h1>

<div id="cart-items">
  <p style="text-align:center; color: gray;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞...</p>
</div>

<div id="cart-summary" style="display:none;">
  <div class="total-block">
    <div style="font-size: 1.5em; margin-bottom: 15px;">
      –ò—Ç–æ–≥–æ: <span id="total-price">0</span> –≥—Ä–Ω.
    </div>
    
    <button onclick="checkout('wa')" class="btn-checkout" style="background-color: #25D366; border:none;">
      –ó–∞–∫–∞–∑–∞—Ç—å –≤ WhatsApp
    </button>
    <button onclick="checkout('tg')" class="btn-checkout" style="background-color: #0088cc; border:none;">
      –ó–∞–∫–∞–∑–∞—Ç—å –≤ Telegram
    </button>
    
    <br>
    <button onclick="clearCart()" style="background:none; border:none; color:gray; text-decoration:underline; cursor:pointer;">
      –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
    </button>
  </div>
</div>

<script>
  // –§—É–Ω–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ—Ä–∑–∏–Ω—ã
  function loadCart() {
    let cart = JSON.parse(localStorage.getItem('mySimpleCart')) || [];
    let container = document.getElementById('cart-items');
    let summary = document.getElementById('cart-summary');
    let totalSpan = document.getElementById('total-price');

    container.innerHTML = '';
    let total = 0;

    if (cart.length === 0) {
      container.innerHTML = '<p style="text-align:center; padding: 40px;">–í –∫–æ—Ä–∑–∏–Ω–µ –ø—É—Å—Ç–æ üï∏Ô∏è</p>';
      summary.style.display = 'none';
      return;
    }

    summary.style.display = 'block';

    cart.forEach((item, index) => {
      total += parseInt(item.price);
      let div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <div style="display:flex; align-items:center;">
          <img src="${item.image}">
          <div class="item-info">
            <span class="item-title">${item.title}</span>
            <span style="color:#2ea44f">${item.price} –≥—Ä–Ω.</span>
          </div>
        </div>
        <button class="btn-remove" onclick="removeItem(${index})">‚úï</button>
      `;
      container.appendChild(div);
    });

    totalSpan.innerText = total;
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏ –∑–Ω–∞—á–æ–∫ –Ω–∞ –∫–Ω–æ–ø–∫–µ
    if(window.updateBadge) window.updateBadge();
  }

  function removeItem(index) {
    let cart = JSON.parse(localStorage.getItem('mySimpleCart')) || [];
    cart.splice(index, 1);
    localStorage.setItem('mySimpleCart', JSON.stringify(cart));
    loadCart();
  }

  function clearCart() {
    if(confirm('–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É?')) {
      localStorage.removeItem('mySimpleCart');
      loadCart();
    }
  }

  function checkout(messenger) {
    let cart = JSON.parse(localStorage.getItem('mySimpleCart')) || [];
    let total = 0;
    let message = "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ó–∞–∫–∞–∑:\n";
    cart.forEach(item => {
      message += `- ${item.title} (${item.price})\n`;
      total += parseInt(item.price);
    });
    message += `\n–°—É–º–º–∞: ${total} –≥—Ä–Ω.`;

    let phone = "380501234567"; // –¢–≤–æ–π –Ω–æ–º–µ—Ä
    let tgUser = "Serhii_K";    // –¢–≤–æ–π –Ω–∏–∫
    
    let url = messenger === 'wa' 
      ? `https://wa.me/${phone}?text=${encodeURIComponent(message)}`
      : `https://t.me/${tgUser}?text=${encodeURIComponent(message)}`;
      
    window.location.href = url;
  }

  loadCart();
</script>
